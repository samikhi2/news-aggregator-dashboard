<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>News Aggregator Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
    <div class="min-h-screen">
        <!-- Header -->
        <header class="bg-white shadow">
            <div class="max-w-7xl mx-auto px-4 py-6">
                <h1 class="text-3xl font-bold text-gray-900">News Aggregator Dashboard</h1>
                <p class="text-gray-600 mt-2">Latest news from multiple sources</p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="max-w-7xl mx-auto px-4 py-12">
            <!-- News Grid -->
            <div id="news-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- News items will be rendered here -->
            </div>
        </main>
    </div>

    <!-- Summary Modal -->
    <div id="summary-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
        <div class="bg-white rounded-lg p-6 max-w-2xl w-full mx-4">
            <h2 class="text-2xl font-bold mb-4">Article Summary</h2>
            <div id="summary-content" class="mb-4 text-gray-700"></div>
            <button onclick="document.getElementById('summary-modal').classList.add('hidden')" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Close</button>
        </div>
    </div>

    <script>
        // Sample news data with mixed sources and thumbnail images
        const articles = [
            {
                id: 1,
                title: "Global Climate Summit Reaches Major Agreement",
                description: "World leaders announce unprecedented commitment to reduce carbon emissions by 2030.",
                source: { name: "BBC News" },
                urlToImage: "https://images.unsplash.com/photo-1611273426858-450d8e3c9fce?w=300&h=200&fit=crop",
                url: "https://bbc.com",
                publishedAt: "2025-10-29T10:00:00Z"
            },
            {
                id: 2,
                title: "Tech Giant Launches Revolutionary AI Assistant",
                description: "New artificial intelligence system promises to transform workplace productivity across industries.",
                source: { name: "CNN" },
                urlToImage: "https://images.unsplash.com/photo-1677442d019cecf8971da1a130ee6055?w=300&h=200&fit=crop",
                url: "https://cnn.com",
                publishedAt: "2025-10-29T09:30:00Z"
            },
            {
                id: 3,
                title: "Stock Markets Rally Following Economic Data Release",
                description: "Investors react positively to stronger than expected employment figures and GDP growth.",
                source: { name: "AP News" },
                urlToImage: "https://images.unsplash.com/photo-1611974212247-aeb36a3161aa?w=300&h=200&fit=crop",
                url: "https://apnews.com",
                publishedAt: "2025-10-29T09:00:00Z"
            },
            {
                id: 4,
                title: "Major Medical Breakthrough in Cancer Treatment",
                description: "Researchers announce successful clinical trials of new immunotherapy targeting rare cancer types.",
                source: { name: "BBC News" },
                urlToImage: "https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=300&h=200&fit=crop",
                url: "https://bbc.com",
                publishedAt: "2025-10-29T08:45:00Z"
            },
            {
                id: 5,
                title: "International Space Mission Returns Successfully",
                description: "Astronauts complete six-month mission aboard the International Space Station with new discoveries.",
                source: { name: "CNN" },
                urlToImage: "https://images.unsplash.com/photo-1446776653964-20c1d3a81b06?w=300&h=200&fit=crop",
                url: "https://cnn.com",
                publishedAt: "2025-10-29T08:15:00Z"
            },
            {
                id: 6,
                title: "Record Tourism Numbers Boost Economy",
                description: "Travel and hospitality sectors experience unprecedented growth following travel recovery surge.",
                source: { name: "AP News" },
                urlToImage: "https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=300&h=200&fit=crop",
                url: "https://apnews.com",
                publishedAt: "2025-10-29T07:50:00Z"
            },
            {
                id: 7,
                title: "Environmental Initiative Protects Million Acres of Forest",
                description: "Global partnership launches ambitious reforestation project spanning multiple continents.",
                source: { name: "BBC News" },
                urlToImage: "https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=300&h=200&fit=crop",
                url: "https://bbc.com",
                publishedAt: "2025-10-29T07:30:00Z"
            },
            {
                id: 8,
                title: "Sports: Historic Championship Victory Crowned",
                description: "Underdog team achieves unprecedented championship title in thrilling final match.",
                source: { name: "CNN" },
                urlToImage: "https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=300&h=200&fit=crop",
                url: "https://cnn.com",
                publishedAt: "2025-10-29T07:00:00Z"
            },
            {
                id: 9,
                title: "Education Reform Initiative Reaches Milestone",
                description: "Government implements comprehensive education modernization program affecting millions of students.",
                source: { name: "AP News" },
                urlToImage: "https://images.unsplash.com/photo-1427504494785-cdba58dabf8d?w=300&h=200&fit=crop",
                url: "https://apnews.com",
                publishedAt: "2025-10-29T06:45:00Z"
            }
        ];

        // Function to render news items
        function renderNews() {
            const container = document.getElementById("news-container");
            container.innerHTML = "";

            articles.forEach(article => {
                const card = document.createElement("div");
                card.className = "news-card bg-white rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow duration-300";

                const image = article.urlToImage || "https://via.placeholder.com/300x200?text=No+Image";
                const date = new Date(article.publishedAt).toLocaleDateString();

                card.innerHTML = `
                    <img src="${image}" alt="${article.title}" class="w-full h-48 object-cover">
                    <div class="p-4">
                        <p class="text-xs text-gray-500 uppercase tracking-wide font-semibold">${article.source.name}</p>
                        <h3 class="text-lg font-bold text-gray-800 mb-2 line-clamp-2">${article.title}</h3>
                        <p class="text-gray-600 text-sm mb-4 line-clamp-2">${article.description}</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-gray-500">${date}</span>
                            <div class="flex gap-2">
                                <button class="summarize-btn px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition" data-title="${article.title.replace(/"/g, '\\"')}">âœ¨ Summarize</button>
                                <a class="px-3 py-1 bg-gray-200 text-gray-800 text-sm rounded hover:bg-gray-300 transition" href="${article.url}" target="_blank">Read</a>
                            </div>
                        </div>
                    </div>
                `;

                container.appendChild(card);
            });

            // Add event listeners to summarize buttons
            document.querySelectorAll(".summarize-btn").forEach(btn => {
                btn.addEventListener("click", (e) => {
                    handleSummarizeClick(e.target.dataset.title);
                });
            });
        }

        // Handle summarize button click
        async function handleSummarizeClick(headline) {
            document.getElementById("summary-modal").classList.remove("hidden");
            document.getElementById("summary-content").innerHTML = "<p class='text-gray-600'>Generating summary...</p>";

            try {
                const summary = await generateGeminiContent(headline);
                document.getElementById("summary-content").innerHTML = `<p>${summary}</p>`;
            } catch (error) {
                console.error("Error generating summary:", error);
                document.getElementById("summary-content").innerHTML = "Unable to generate summary at this time.";
            }
        }

        // Generate summary content (mock function)
        async function generateGeminiContent(headline) {
            return `This headline discusses important developments in ${headline.toLowerCase()}. The story appears to be significant in its category and has garnered attention from news organizations worldwide. Further details are available in the full article.`;
        }

        // Initialize on page load
        document.addEventListener("DOMContentLoaded", renderNews);
    </script>
</body>
</html>
